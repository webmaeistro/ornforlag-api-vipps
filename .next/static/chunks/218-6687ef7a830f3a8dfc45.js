"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[218],{2218:function(e,t,n){n.d(t,{Z:function(){return qe},Y:function(){return j}});var r=n(2809),a=n(219),i=n(266),o=n(809),s=n.n(o),c=n(7294),l=n(1163),u=n(8172),d=n(9163),p=n(5617),f=n(6381),g=n(318),h=n(6712),m=n(8181),v=n(3123),y="\n  query SEARCH_PAGE($language: String!, $path: String, $version: VersionLabel!) {\n    searchPage: catalogue(language: $language, path: $path, version: $version) {\n      ...item\n\n      children {\n        ...item\n        ...product\n      }\n    }\n  }\n\n  ".concat(v.Z,"\n");function x(e){return(0,u.ZP)(e,(function(e){delete e.productVariants.priceRange,delete e.productVariants.attributes}))}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e){return w.apply(this,arguments)}function w(){return(w=(0,i.Z)(s().mark((function e(t){var n,r,a,i,o,c,l,u,d,p,f,v;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.asPath,r=t.preview,a=t.language,i=t.searchSpec,e.next=3,Promise.all([(0,h.nx)({query:m.dZ,variables:C(C({},i),{},{aggregationsFilter:x(i.filter)})}),n?(0,h.dY)({query:y,variables:{path:n,language:a,version:r?"draft":"published"}}):{}]);case 3:if(o=e.sent,c=(0,g.Z)(o,2),l=c[0],u=c[1],l.data){e.next=9;break}return e.abrupt("return",{search:null,catalogue:null,language:a});case 9:return d=l.data,p=d.search,f=d.aggregations,v=(f=void 0===f?{}:f).aggregations,e.abrupt("return",{search:{search:p,aggregations:v},catalogue:u.data||null,language:a});case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var O=n(9841),P=n(1039),_=n.n(P),k=n(1964),Z=n(1930),I=d.default.div.withConfig({displayName:"styles__ListOuter",componentId:"sc-14zoxk6-0"})(["max-width:1600px;margin:0 auto;"]),N=d.default.div.withConfig({displayName:"styles__SearchActions",componentId:"sc-14zoxk6-1"})(["display:flex;justify-content:space-between;margin-bottom:30px;position:relative;align-items:center;","{align-items:flex-start;}"],p.jW.mdPlus),S=d.default.div.withConfig({displayName:"styles__LocateRight",componentId:"sc-14zoxk6-2"})(["","{position:absolute;right:0;top:5px;}"],p.jW.smPlus),z=n(2756),D=d.default.select.withConfig({displayName:"styles__Outer",componentId:"sc-1pjrabs-0"})(["padding:10px 15px;outline:none;border:none;font-size:1rem;"]),E=n(5893);function F(e){var t=e.orderBy,n=e.onChange,r=(0,z.$G)("search").t;return(0,E.jsx)(D,{value:null===t||void 0===t?void 0:t.value,onChange:function(e){var t=m.vy.findIndex((function(t){return t.value===e.target.value}));n(m.vy[t],t)},"aria-label":r("orderTitle"),children:m.vy.map((function(e){return(0,E.jsx)("option",{value:e.value,children:r("order.".concat(e.value))},e.value)}))})}var R=n(8198),$=d.default.div.withConfig({displayName:"styles__Outer",componentId:"sc-1djmnob-0"})(["ul{display:grid;grid-auto-rows:var(--listformat-product-height-lg);grid-gap:15px;grid-template-columns:1fr;list-style:none;","{grid-template-columns:repeat(2,1fr);}","{padding-left:0;padding-right:0;grid-template-columns:repeat(4,1fr);}> li{margin:0;padding:0;}}"],p.jW.smPlus,p.jW.mdPlus),q=d.default.div.withConfig({displayName:"pagination__Outer",componentId:"sc-19mrsxs-0"})(["display:flex;justify-content:space-between;"]),A=d.default.button.withConfig({displayName:"pagination__Button",componentId:"sc-19mrsxs-1"})(["background:transparent;border:2px solid #000;padding:10px;text-transform:uppercase;font-weight:600;font-size:14px;&:disabled{opacity:0;}"]);function B(e){var t=e.navigate,n=e.pageInfo,r=n.hasPreviousPage,a=n.hasNextPage;return(0,E.jsxs)(q,{children:[(0,E.jsx)(A,{onClick:function(){return t({direction:"prevPage"})},disabled:!r,children:"\u2190"}),(0,E.jsx)(A,{onClick:function(){return t({direction:"nextPage"})},disabled:!a,children:"\u2192"})]})}function W(e){var t=e.edges,n=void 0===t?[]:t,r=e.navigate,a=e.pageInfo;return(0,E.jsxs)($,{children:[(0,E.jsx)("ul",{children:null===n||void 0===n?void 0:n.map((function(e){var t=e.cursor,n=e.node;return(0,E.jsx)("li",{children:(0,E.jsx)(R.Z,{item:n})},t)}))}),(0,E.jsx)(B,{navigate:r,pageInfo:a})]})}var H,L,V=n(2209),M=n(9366),G=d.default.div.withConfig({displayName:"styles__Outer",componentId:"sc-1qouaiz-0"})(["width:100%;"]),T=d.default.div.withConfig({displayName:"styles__FacetsDisplayer",componentId:"sc-1qouaiz-1"})(["","{display:none;margin-top:15px;",";}","{display:none;",";}> *:not(:first-child):not(:last-child){border-top:1px solid #dfdfdf;margin-top:35px;padding-top:30px;","{margin-top:0;}}"],p.jW.smAndLess,(0,M.ZP)("$show")(H||(H=(0,V.Z)(["\n      background: #fff;\n      display: block;\n      position: fixed;\n      z-index: 999;\n      top: 0;\n      left: 0;\n      height: calc(var(--vh) * 100);\n      width: 100%;\n      overflow-y: auto;\n      padding: 50px 15px 85px;\n    "]))),p.jW.mdPlus,(0,M.ZP)("$show")(L||(L=(0,V.Z)(["\n      display: block;\n      display: grid;\n      margin-bottom: 2rem;\n      margin-top: 1rem;\n      padding: 0;\n      grid-gap: 1rem;\n      grid-template-columns: repeat(2, 1fr);\n    "]))),p.jW.mdPlus),Q=d.default.div.withConfig({displayName:"styles__FacetGroupOfAttributes",componentId:"sc-1qouaiz-2"})(["display:grid;grid-gap:0.25rem;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));"]),U=d.default.div.withConfig({displayName:"styles__ButtonCloseFacets",componentId:"sc-1qouaiz-3"})(["display:none;","{display:block;position:fixed;right:15px;bottom:15px;z-index:1;}"],p.jW.smAndLess),Y=n(5889),J=(n(9688),d.default.div.withConfig({displayName:"styles__Outer",componentId:"sc-19dzaxa-0"})([""])),K=d.default.div.withConfig({displayName:"styles__Values",componentId:"sc-19dzaxa-1"})(["display:grid;justify-content:center;align-items:center;margin-bottom:15px;grid-template-columns:1fr 1fr;input:first-child{border-right-color:transparent;}"]),X=d.default.input.withConfig({displayName:"styles__Input",componentId:"sc-19dzaxa-2"})(["background:white;border:1px solid #000;padding:8px 15px;flex:0 1 auto;width:100%;"]),ee=d.default.div.withConfig({displayName:"styles__RangeWrap",componentId:"sc-19dzaxa-3"})(["margin:0 10px;.rc-slider-track{background:#000;}.rc-slider-handle{border-color:#000;&.rc-slider-handle-dragging{border-color:#000;box-shadow:0 0 0 5px #000;}}"]),te=["value","onChange"];function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function re(e){var t=e.min,n=e.max,r=e.value,a=e.onChange,i=(0,z.$G)("search").t,o=(0,c.useState)(r),s=o[0],l=o[1];return(0,c.useEffect)((function(){l(r)}),[r]),(0,E.jsxs)(J,{children:[(0,E.jsxs)(K,{children:[(0,E.jsx)(ae,{value:s.min,onChange:function(e){a({min:e,max:s.max>e?s.max:n})},"aria-label":i("facets.price.min")}),(0,E.jsx)(ae,{value:s.max,onChange:function(e){a({min:s.min<e?s.min:t,max:e})},"aria-label":i("facets.price.max")})]}),(0,E.jsx)(ee,{children:(0,E.jsx)(Y.e6,{min:t,max:n,value:[s.min,s.max],onChange:function(e){l({min:e[0],max:e[1]})},onAfterChange:function(){a(s)}})})]})}function ae(e){var t=e.value,n=e.onChange,i=(0,a.Z)(e,te);return(0,E.jsx)(X,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({type:"number",value:t,onChange:function(e){n(parseFloat(e.target.value))}},i))}var ie=d.default.span.withConfig({displayName:"styles__Text",componentId:"sc-1ggfrw1-0"})(["white-space:nowrap;"]),oe=d.default.button.withConfig({displayName:"styles__Button",componentId:"sc-1ggfrw1-1"})(["align-items:center;appearance:none;background:var(--color-background);border:none;color:var(--color-text);cursor:pointer;display:inline-flex;font-family:var(--font-family-main);font-size:18px;font-weight:600;letter-spacing:0.5px;padding:0.75rem 1rem;position:relative;text-align:center;text-decoration:none;&:hover{background:var(--color-background-hover);color:var(--color-text-hover);border-radius:4px;}","{margin-right:0.5rem;}"],ie);function se(){return(0,E.jsxs)("svg",{width:"31",height:"31",viewBox:"0 0 31 31",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,E.jsx)("rect",{width:"31",height:"31"}),(0,E.jsx)("path",{d:"M20.0063 13.5718H22.6C22.8457 13.5718 23.0813 13.4714 23.255 13.2928C23.4287 13.1142 23.5263 12.872 23.5263 12.6194C23.5263 12.3668 23.4287 12.1245 23.255 11.9459C23.0813 11.7673 22.8457 11.667 22.6 11.667H20.0063C19.7606 11.667 19.525 11.7673 19.3513 11.9459C19.1776 12.1245 19.08 12.3668 19.08 12.6194C19.08 12.872 19.1776 13.1142 19.3513 13.2928C19.525 13.4714 19.7606 13.5718 20.0063 13.5718ZM10.7432 11.667H5.92632C5.68064 11.667 5.44503 11.7673 5.27131 11.9459C5.09759 12.1245 5 12.3668 5 12.6194C5 12.872 5.09759 13.1142 5.27131 13.2928C5.44503 13.4714 5.68064 13.5718 5.92632 13.5718H10.7432C10.9888 13.5718 11.2244 13.4714 11.3982 13.2928C11.5719 13.1142 11.6695 12.872 11.6695 12.6194C11.6695 12.3668 11.5719 12.1245 11.3982 11.9459C11.2244 11.7673 10.9888 11.667 10.7432 11.667ZM8.52 20.4289H5.92632C5.68064 20.4289 5.44503 20.5292 5.27131 20.7078C5.09759 20.8864 5 21.1287 5 21.3813C5 21.6339 5.09759 21.8761 5.27131 22.0547C5.44503 22.2333 5.68064 22.3337 5.92632 22.3337H8.52C8.76567 22.3337 9.00129 22.2333 9.175 22.0547C9.34872 21.8761 9.44632 21.6339 9.44632 21.3813C9.44632 21.1287 9.34872 20.8864 9.175 20.7078C9.00129 20.5292 8.76567 20.4289 8.52 20.4289ZM22.6 20.4289H17.7832C17.5375 20.4289 17.3019 20.5292 17.1282 20.7078C16.9544 20.8864 16.8568 21.1287 16.8568 21.3813C16.8568 21.6339 16.9544 21.8761 17.1282 22.0547C17.3019 22.2333 17.5375 22.3337 17.7832 22.3337H22.6C22.8457 22.3337 23.0813 22.2333 23.255 22.0547C23.4287 21.8761 23.5263 21.6339 23.5263 21.3813C23.5263 21.1287 23.4287 20.8864 23.255 20.7078C23.0813 20.5292 22.8457 20.4289 22.6 20.4289Z",fill:"#080708"}),(0,E.jsx)("path",{d:"M11.855 17.7619C11.1588 17.7619 10.4782 17.9742 9.89936 18.3718C9.32049 18.7695 8.86933 19.3347 8.60291 19.996C8.33649 20.6573 8.26678 21.385 8.4026 22.087C8.53842 22.789 8.87367 23.4339 9.36595 23.94C9.85823 24.4461 10.4854 24.7908 11.1682 24.9305C11.8511 25.0701 12.5588 24.9984 13.202 24.7245C13.8452 24.4506 14.395 23.9867 14.7817 23.3916C15.1685 22.7964 15.375 22.0967 15.375 21.381C15.375 20.4211 15.0041 19.5006 14.344 18.8219C13.6839 18.1432 12.7885 17.7619 11.855 17.7619ZM11.855 23.0952C11.5252 23.0952 11.2028 22.9947 10.9286 22.8063C10.6544 22.618 10.4407 22.3502 10.3145 22.037C10.1883 21.7237 10.1553 21.3791 10.2196 21.0465C10.284 20.714 10.4428 20.4085 10.676 20.1688C10.9091 19.929 11.2062 19.7658 11.5297 19.6996C11.8531 19.6335 12.1884 19.6674 12.493 19.7972C12.7977 19.9269 13.0581 20.1466 13.2413 20.4285C13.4245 20.7105 13.5223 21.0419 13.5223 21.381C13.5214 21.8353 13.3454 22.2708 13.0329 22.592C12.7204 22.9133 12.2969 23.0942 11.855 23.0952ZM16.6718 9C15.9756 9 15.2951 9.21225 14.7162 9.60992C14.1373 10.0076 13.6862 10.5728 13.4197 11.2341C13.1533 11.8954 13.0836 12.6231 13.2194 13.3251C13.3553 14.0271 13.6905 14.672 14.1828 15.1781C14.6751 15.6842 15.3023 16.0289 15.9851 16.1686C16.6679 16.3082 17.3757 16.2365 18.0189 15.9626C18.662 15.6887 19.2118 15.2248 19.5986 14.6297C19.9854 14.0345 20.1918 13.3348 20.1918 12.619C20.1918 12.1438 20.1008 11.6732 19.9239 11.2341C19.747 10.795 19.4877 10.3961 19.1608 10.06C18.834 9.72393 18.4459 9.45736 18.0189 9.27548C17.5918 9.09361 17.1341 9 16.6718 9V9ZM16.6718 14.3333C16.342 14.3333 16.0197 14.2328 15.7455 14.0444C15.4713 13.8561 15.2576 13.5883 15.1314 13.2751C15.0052 12.9618 14.9721 12.6171 15.0365 12.2846C15.1008 11.9521 15.2596 11.6466 15.4928 11.4069C15.726 11.1671 16.0231 11.0038 16.3465 10.9377C16.67 10.8716 17.0052 10.9055 17.3099 11.0353C17.6146 11.165 17.875 11.3847 18.0582 11.6666C18.2414 11.9486 18.3392 12.28 18.3392 12.619C18.3382 13.0734 18.1622 13.5088 17.8497 13.8301C17.5373 14.1514 17.1137 14.3323 16.6718 14.3333Z",fill:"#F6CACA"})]})}var ce=["areFacetsShown"];function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var de=c.forwardRef((function(e,t){var n=e.areFacetsShown,r=(0,a.Z)(e,ce),i=(0,z.$G)(["common","search"]).t,o=i(n?"close":"search:filter");return(0,E.jsxs)(oe,ue(ue({},r),{},{ref:t,style:{"--color-background":"white","--color-text":"var(--color-primary-action-content)","--color-background-hover":"#f7f7f7","--color-text-hover":"var(--color-primary-action-content)"},children:[(0,E.jsx)(ie,{children:o}),(0,E.jsx)(se,{})]}))}));de.displayName="ButtonToggleFacets";var pe=d.default.h4.withConfig({displayName:"styles__FacetHeader",componentId:"sc-9eym3s-0"})(["color:#000;display:flex;font-size:16px;font-weight:600;justify-content:space-between;margin:0 0 15px;min-height:15px;text-transform:capitalize;"]),fe=d.default.span.withConfig({displayName:"styles__FacetTitle",componentId:"sc-9eym3s-1"})(["span{margin-right:15px;}"]),ge=d.default.button.withConfig({displayName:"styles__FacetAction",componentId:"sc-9eym3s-2"})(["visibility:hidden;opacity:0;transition:opacity 250ms;"]),he=d.default.div.withConfig({displayName:"styles__Facet",componentId:"sc-9eym3s-3"})(["","{padding:2.5rem 2rem;border:1px solid #dfdfdf;}&:hover ","{visibility:visible;opacity:1;}"],p.jW.mdPlus,ge);function me(e){var t=e.onClick,n=e.children;return(0,E.jsx)(ge,{onClick:t,children:n})}function ve(e){var t=e.title,n=e.action,r=e.children;return(0,E.jsxs)(he,{children:[(0,E.jsxs)(pe,{children:[(0,E.jsx)(fe,{children:t}),n]}),r]})}var ye=d.default.div.withConfig({displayName:"styles__Outer",componentId:"sc-1w1wi0-0"})(["padding:4px 0;"]),xe=d.default.label.withConfig({displayName:"styles__Label",componentId:"sc-1w1wi0-1"})(["display:flex;align-items:center;font-size:14px;text-transform:uppercase;font-weight:500;color:#000;"]),be=d.default.input.withConfig({displayName:"styles__Input",componentId:"sc-1w1wi0-2"})(["margin-right:5px;border:1px solid #000;border-radius:0;"]),Ce=d.default.span.withConfig({displayName:"styles__Count",componentId:"sc-1w1wi0-3"})(["font-weight:600;margin-left:0.5em;"]);function je(e){var t=e.attribute,n=e.value,r=e.count,a=e.isChecked,i=e.onChange;return(0,E.jsx)(ye,{children:(0,E.jsxs)(xe,{children:[(0,E.jsxs)("span",{children:[(0,E.jsx)(be,{type:"checkbox",checked:a,onChange:function(e){i({attribute:t,value:n,isChecked:e.target.checked})}}),n]}),(0,E.jsxs)(Ce,{children:["(",r,")"]})]})})}function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pe(e){var t=e.aggregations,n=void 0===t?{}:t,r=e.spec,a=e.changeQuery,i=e.totalResults,o=(0,z.$G)("search").t,s=r.filter.productVariants.priceRange,l=n.price,d=(0,c.useState)(!1),f=d[0],g=d[1],h=function(){return g(!1)};function m(e){var t=e.name,n=e.attribute;a((function(e){if("price"===t)return delete e.min,void delete e.max;if("attribute"!==t||Array.isArray(e.attrs)){var r=e.attrs.findIndex((function(e){return e.startsWith("".concat(n,":"))}));e.attrs.splice(r,1)}else delete e.attrs}))}function v(e){var t=e.attribute,n=e.value,i=e.isChecked;a((function(e){var a=(0,u.ZP)(r.filter.productVariants.attributes||[],(function(e){var r=e.find((function(e){return e.attribute===t}));r?i?r.values.push(n):r.values.splice(r.values.indexOf(n),1):e.push({attribute:t,values:[n]})})).filter((function(e){return e.values.length>0}));a&&0!==a.length?(e.attrs=a.map(_e),1===e.attrs.length&&(e.attrs=e.attrs[0])):delete e.attrs}))}(0,c.useEffect)((function(){window.innerWidth<1024&&(document.body.style.overflow=f?"hidden":"auto")}),[f]);var y=s&&(null===s||void 0===s?void 0:s.min)!==(null===l||void 0===l?void 0:l.min)&&(null===s||void 0===s?void 0:s.max)!==(null===l||void 0===l?void 0:l.max);return(0,E.jsxs)(G,{children:[(0,E.jsx)(de,{onClick:function(){f?h():g(!0)},areFacetsShown:f}),(0,E.jsxs)(T,{$show:f,children:[l&&l.min!==l.max&&(0,E.jsx)(ve,{title:o("facets.price.title"),action:y&&(0,E.jsx)(me,{onClick:function(){return m({name:"price"})},children:o("facets.reset")}),children:(0,E.jsx)(re,Oe(Oe({},l),{},{onChange:function(e){a((function(t){delete t.min,delete t.max,e.min!==l.min&&(t.min=e.min.toString()),e.max!==l.max&&(t.max=e.max.toString())}))},value:Oe(Oe({},l),s)}))}),ke(n).map((function(e){var t,n,a,i=e.attribute,s=e.values,c=null===r||void 0===r||null===(t=r.filter)||void 0===t||null===(n=t.productVariants)||void 0===n||null===(a=n.attributes)||void 0===a?void 0:a.some((function(e){return e.attribute===i}));return(0,E.jsx)(ve,{title:i,action:c&&(0,E.jsx)(me,{onClick:function(){m({name:"attribute",attribute:i})},children:o("facets.reset")}),children:(0,E.jsx)(Q,{children:s.map((function(e){var t,n,a,o=e.value,s=e.count,c=Boolean(null===(t=r.filter)||void 0===t||null===(n=t.productVariants)||void 0===n||null===(a=n.attributes)||void 0===a?void 0:a.some((function(e){return e.attribute===i&&e.values.includes(o)})));return(0,E.jsx)(je,{attribute:i,value:o,count:s,isChecked:c,onChange:v},o)}))})},i)})),(0,E.jsx)(U,{children:(0,E.jsx)(p.zx,{onClick:h,children:o("facets.viewNResults",{count:i})})})]})]})}function _e(e){return"".concat(e.attribute,":").concat(e.values.join(","))}function ke(e){var t=e.variantAttributes,n=[];return(void 0===t?[]:t).forEach((function(e){var t=e.attribute,r=e.value,a=e.count,i=n.find((function(e){return e.attribute===t}));i?i.values.push({value:r,count:a}):n.push({attribute:t,values:[{value:r,count:a}]})})),n}var Ze=d.default.span.withConfig({displayName:"count__TotalResults",componentId:"sc-1k8z0la-0"})(["color:#000;font-weight:600;display:block;margin-bottom:10px;font-size:1rem;"]);function Ie(e){var t=e.count,n=(0,z.$G)("common").t;return(0,E.jsx)(Ze,{children:n("search.foundResults",{count:t})})}var Ne=["query","asPath"],Se=["catalogue"],ze=["catalogue"];function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Fe=(0,d.default)(p.Nh).withConfig({displayName:"search__Outer",componentId:"sc-l8usc0-0"})([""]);function Re(e){return $e.apply(this,arguments)}function $e(){return($e=(0,i.Z)(s().mark((function e(t){var n,r,a,i,o,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.nx)({query:m.dZ,variables:Ee(Ee({},t),{},{aggregationsFilter:x(t.filter)})});case 2:return n=e.sent,r=n.data,i=(a=r||{}).search,o=a.aggregations,c=(o=void 0===o?{}:o).aggregations,e.abrupt("return",{search:i,aggregations:c});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qe(e){var t,n,r,o,d,p,g,h,v,y=e.search,x=e.catalogue,b=(0,c.useRef)(),C=(0,l.useRouter)(),j=C.query,w=C.asPath,P=(0,a.Z)(C,Ne),z=(0,O.bU)(),D=(0,c.useState)(y),R=D[0],$=D[1],q=(0,c.useCallback)(function(){var e=(0,i.Z)(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.catalogue,n=(0,a.Z)(t,Se),e.next=3,Re((0,m.kL)({query:n,asPath:w},z));case 3:r=e.sent,$(r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[w,z]),A=(0,m.kL)({query:j,asPath:w},z);function B(e){var t=(0,u.ZP)(j,(function(t){delete t.before,delete t.after,e(t)})),n=(t.catalogue,(0,a.Z)(t,ze)),r=new URLSearchParams(n).toString(),i=w.split("?")[0];r&&(i+="?".concat(r)),P.replace({pathname:P.pathname,query:t},i,{shallow:!0})}function H(e,t){B((function(n){t>0?n.orderby=e.value:delete n.orderby}))}if((0,c.useEffect)((function(){$(y)}),[y]),(0,c.useEffect)((function(){!b.current&&(b.current=!0,j.catalogue)||q(j)}),[j,q]),!R||!R.search)return(0,E.jsx)(f.Z,{title:"Searching...",children:(0,E.jsx)(Fe,{children:(0,E.jsxs)(I,{children:[(0,E.jsx)(F,{orderBy:A.orderBy,onChange:H}),(0,E.jsx)(Pe,{spec:A,changeQuery:B})]})})});var L=null!==x&&void 0!==x&&null!==(t=x.searchPage)&&void 0!==t&&t.name?x.searchPage.name:"Search",V=null===x||void 0===x||null===(n=x.searchPage)||void 0===n||null===(r=n.components)||void 0===r||null===(o=r.find((function(e){return"Brief"===e.name})))||void 0===o||null===(d=o.content)||void 0===d?void 0:d.json,M=null===x||void 0===x||null===(p=x.searchPage)||void 0===p||null===(g=p.components)||void 0===g||null===(h=g.find((function(e){return"Stackable content"===e.name})))||void 0===h||null===(v=h.content)||void 0===v?void 0:v.items,G=R.search.aggregations.totalResults;return(0,E.jsx)(f.Z,{title:L,description:_()(V),children:(0,E.jsxs)(Fe,{children:[(0,E.jsx)(k.Z,{title:L,description:V}),(0,E.jsx)(Z.Z,{stacks:M}),(0,E.jsxs)(I,{children:[(0,E.jsxs)(N,{children:[(0,E.jsx)(Pe,{aggregations:R.aggregations,spec:A,changeQuery:B,totalResults:G}),(0,E.jsx)(S,{children:(0,E.jsx)(F,{orderBy:A.orderBy,onChange:H})})]}),(0,E.jsx)(Ie,{count:G}),(0,E.jsx)(W,Ee(Ee({},R.search),{},{spec:A,navigate:function(e){if("nextPage"===e.direction)return B((function(e){e.after=R.search.pageInfo.endCursor}));B((function(e){e.before=R.search.pageInfo.startCursor}))}}))]})]})})}}}]);