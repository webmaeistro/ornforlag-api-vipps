"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[443],{443:function(e,n,t){t.r(n),t.d(n,{default:function(){return u}});var r=t(266),a=t(809),c=t.n(a),l=t(7294),o=t(2756),d=t(3475),s=t(5893);function u(e){var n=e.checkoutModel,t=e.basketActions,a=(0,o.$G)("checkout").t,u=(0,l.useRef)(),i=(0,l.useState)("loading"),h=i[0],p=i[1];return(0,l.useEffect)((function(){function e(){return(e=(0,r.Z)(c().mark((function e(){var r,a,l,o,s,i,h,k,f,m;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p("loading"),e.prev=1,e.next=4,(0,d.Z)({query:"\n            mutation klarnaRenderCheckout(\n              $checkoutModel: CheckoutModelInput!\n            ) {\n              paymentProviders {\n                klarna {\n                  renderCheckout(\n                    checkoutModel: $checkoutModel\n                  ) {\n                    crystallizeOrderId\n                    klarnaOrderId\n                    html\n                  }\n                }\n              }\n            }\n          ",variables:{checkoutModel:n}});case 4:for(r=e.sent,a=r.data.paymentProviders.klarna.renderCheckout,l=a.html,o=a.klarnaOrderId,s=a.crystallizeOrderId,t.setKlarnaOrderId(o),t.setCrystallizeOrderId(s),(i=u.current).innerHTML=l,h=i.getElementsByTagName("script"),k=0;k<h.length;k++)f=h[k].parentNode,(m=document.createElement("script")).type="text/javascript",m.text=h[k].text,f.removeChild(h[k]),f.appendChild(m);p("loaded"),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(1),console.log(e.t0),p("error");case 19:case"end":return e.stop()}}),e,null,[[1,15]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),(0,s.jsxs)(s.Fragment,{children:["loading"===h&&(0,s.jsx)("p",{children:a("loadingPaymentGateway")}),"error"===h&&(0,s.jsx)("p",{children:a("loadingPaymentGatewayFailed",{name:"Klarna"})}),(0,s.jsx)("div",{ref:u})]})}}}]);