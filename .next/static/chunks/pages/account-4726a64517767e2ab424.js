(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[966],{3635:function(e,n,i){"use strict";i.r(n),i.d(n,{__N_SSP:function(){return b},default:function(){return x}});var t=i(266),r=i(809),l=i.n(r),o=i(7294),a=i(5617),s=i(6381),c=i(4116),d=i(2756),u=i(9163),g=u.default.div.withConfig({displayName:"styles__Outer",componentId:"sc-5eh6bk-0"})(["display:flex;flex-direction:row;justify-content:center;align-items:center;"]),p=u.default.div.withConfig({displayName:"styles__LoginStyle",componentId:"sc-5eh6bk-1"})(["text-align:center;form{background:var(--color-box-background);padding:50px;margin:100px auto 0;max-width:700px;}h4{margin:0 auto;max-width:400px;}p{margin:50px 20px;}"]),h=u.default.div.withConfig({displayName:"styles__Fields",componentId:"sc-5eh6bk-2"})(["display:flex;justify-content:center;margin-top:50px;input{flex:1 1 auto;border:2px solid #000;border-right-width:0;padding:15px;margin:0;}button{flex:0 0 auto;}","{display:block;input{width:100%;min-width:auto;border-right-width:2px;margin-bottom:20px;}}"],a.jW.smAndLess),m=i(5893);function x(){var e=(0,d.$G)("customer").t,n=(0,c.aC)(),i=(0,o.useState)({loading:!1,email:"",message:"",error:""}),r=i[0],s=i[1];function u(){return(u=(0,t.Z)(l().mark((function n(i){var t,o,a,d;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i.preventDefault(),s(Object.assign({},r,{loading:!0,error:""})),t=r.email,n.prev=3,n.next=6,(0,c.Bg)(t);case 6:o=n.sent,a=o.success,d=o.error,s(Object.assign({},r,{loading:!1,message:a?"Check your mail inbox for a login link":e("login.error_".concat(d))||"Could not send the login link email =("})),n.next=16;break;case 12:n.prev=12,n.t0=n.catch(3),console.error(n.t0),s(Object.assign({},r,{loading:!1,error:"Could not send a magic link email =("}));case 16:case"end":return n.stop()}}),n,null,[[3,12]])})))).apply(this,arguments)}return n.isLoggedIn?(0,m.jsx)(f,{title:e("login.title"),children:(0,m.jsx)("div",{children:(0,m.jsx)(a.H1,{children:e("login.loggedIn")})})}):(0,m.jsx)(f,{title:e("login.title"),children:(0,m.jsx)(g,{children:(0,m.jsxs)(p,{children:[(0,m.jsx)(a.H1,{children:e("login.title")}),(0,m.jsxs)("form",{onSubmit:function(e){return u.apply(this,arguments)},action:"/api/loging",method:"post",children:[(0,m.jsx)("h4",{children:e("login.instructions")}),(0,m.jsxs)(h,{children:[(0,m.jsx)("input",{type:"email",name:"email",placeholder:e("email"),required:!0,onChange:function(e){return s(Object.assign({},r,{email:e.target.value}))}}),(0,m.jsx)(a.zx,{state:r.loading?"loading":null,type:"submit",value:"Submit",children:e("login.sendMagicLink")})]})]}),r.message?(0,m.jsx)("p",{children:r.message}):null,r.error?(0,m.jsx)("p",{children:e("login.emailAddressInvalid")}):null]})})})}function f(e){var n=e.title,i=e.children;return(0,m.jsx)(s.Z,{title:n,children:(0,m.jsx)(g,{children:i})})}var b=!0},3290:function(e,n,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account",function(){return i(3635)}])}},function(e){e.O(0,[127,381,774,888,179],(function(){return n=3290,e(e.s=n);var n}));var n=e.O();_N_E=n}]);